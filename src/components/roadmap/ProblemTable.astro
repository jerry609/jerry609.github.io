---
interface Props {
  problems: { name: string; difficulty: string; link: string }[]
}

const { problems } = Astro.props
---

<div class="w-full overflow-hidden rounded-xl border border-border">
  <table class="w-full text-sm text-left">
    <thead class="text-xs text-muted-foreground uppercase bg-muted/50 border-b border-border">
      <tr>
        <th scope="col" class="px-4 py-3 w-16 text-center">Status</th>
        <th scope="col" class="px-4 py-3">Problem</th>
        <th scope="col" class="px-4 py-3 w-24 text-center">Difficulty</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-border">
      {problems.map((p) => (
        <tr class="bg-card hover:bg-muted/50 transition-colors">
          <td class="px-4 py-3 text-center">
            <input type='checkbox' class='prob-check' data-link={p.link} />
          </td>
          <td class="px-4 py-3 font-medium">
            <a href={p.link} target='_blank' class='text-primary hover:underline decoration-primary/50 underline-offset-4'>{p.name}</a>
          </td>
          <td class="px-4 py-3 text-center">
            <span class={`diff diff-${p.difficulty.toLowerCase()}`}>{p.difficulty}</span>
          </td>
        </tr>
      ))}
    </tbody>
  </table>
</div>

<style>
  .diff {
    font-size: 0.75rem;
    font-weight: 700;
    padding: 0.25rem 0.6rem;
    border-radius: 9999px;
    display: inline-block;
    min-width: 60px;
  }
  .diff-easy { color: #22c55e; background: rgba(34, 197, 94, 0.15); border: 1px solid rgba(34, 197, 94, 0.2); }
  .diff-medium { color: #eab308; background: rgba(234, 179, 8, 0.15); border: 1px solid rgba(234, 179, 8, 0.2); }
  .diff-hard { color: #ef4444; background: rgba(239, 68, 68, 0.15); border: 1px solid rgba(239, 68, 68, 0.2); }
  
  input[type='checkbox'] {
    appearance: none;
    width: 1.25rem;
    height: 1.25rem;
    border: 2px solid hsl(var(--muted-foreground));
    border-radius: 4px;
    background: transparent;
    cursor: pointer;
    position: relative;
    transition: all 0.2s;
    vertical-align: middle;
  }
  input[type='checkbox']:checked {
    background: #22c55e;
    border-color: #22c55e;
  }
  input[type='checkbox']:checked::after {
    content: '';
    position: absolute;
    left: 5px;
    top: 1px;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
  }
</style>
